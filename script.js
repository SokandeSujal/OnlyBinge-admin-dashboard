const _0x3c4fc9=_0x5ab3;(function(_0xcefbd1,_0x256e9f){const _0x4ff090=_0x5ab3,_0x599d95=_0xcefbd1();while(!![]){try{const _0x501e7b=-parseInt(_0x4ff090(0x16d))/0x1+-parseInt(_0x4ff090(0x18c))/0x2*(-parseInt(_0x4ff090(0x17e))/0x3)+-parseInt(_0x4ff090(0x19c))/0x4*(parseInt(_0x4ff090(0x1a5))/0x5)+-parseInt(_0x4ff090(0x177))/0x6+parseInt(_0x4ff090(0x170))/0x7*(-parseInt(_0x4ff090(0x15b))/0x8)+-parseInt(_0x4ff090(0x193))/0x9*(parseInt(_0x4ff090(0x16b))/0xa)+parseInt(_0x4ff090(0x18a))/0xb;if(_0x501e7b===_0x256e9f)break;else _0x599d95['push'](_0x599d95['shift']());}catch(_0x325ebb){_0x599d95['push'](_0x599d95['shift']());}}}(_0x1763,0x9fad0));const SUPABASE_URL=_0x3c4fc9(0x17a),SUPABASE_ANON_KEY=_0x3c4fc9(0x164),supabase=window[_0x3c4fc9(0x179)][_0x3c4fc9(0x161)](SUPABASE_URL,SUPABASE_ANON_KEY);let adminUser=null;const loginModal=document[_0x3c4fc9(0x17b)]('login-modal'),dashboard=document['getElementById'](_0x3c4fc9(0x19b)),loginForm=document['getElementById'](_0x3c4fc9(0x196)),loginError=document[_0x3c4fc9(0x17b)](_0x3c4fc9(0x190)),logoutBtn=document[_0x3c4fc9(0x17b)]('logout-btn'),addUserForm=document['getElementById'](_0x3c4fc9(0x159)),newUserEmail=document['getElementById']('new-user-email'),addUserMsg=document['getElementById'](_0x3c4fc9(0x18e)),userList=document[_0x3c4fc9(0x17b)]('user-list'),searchList=document['getElementById']('search-list'),watchList=document[_0x3c4fc9(0x17b)]('watch-list'),bookmarkList=document[_0x3c4fc9(0x17b)]('bookmark-list'),navItems=document[_0x3c4fc9(0x189)](_0x3c4fc9(0x1a4)),sections=document[_0x3c4fc9(0x189)](_0x3c4fc9(0x157));loginForm['addEventListener']('submit',async _0x22c073=>{const _0xa63053=_0x3c4fc9;_0x22c073['preventDefault']();const _0x3bcaa3=document['getElementById'](_0xa63053(0x181))['value'],_0x32313b=document[_0xa63053(0x17b)](_0xa63053(0x187))[_0xa63053(0x199)],{data:_0x394d34,error:_0x2b1b9c}=await supabase[_0xa63053(0x163)]['signInWithPassword']({'email':_0x3bcaa3,'password':_0x32313b});if(_0x2b1b9c){loginError[_0xa63053(0x165)]=_0x2b1b9c['message'],loginError[_0xa63053(0x168)][_0xa63053(0x17d)]('hidden');return;}adminUser=_0x394d34['user'],loginModal[_0xa63053(0x168)][_0xa63053(0x16e)](_0xa63053(0x15c)),dashboard['classList'][_0xa63053(0x17d)](_0xa63053(0x15c)),loginError[_0xa63053(0x168)]['add'](_0xa63053(0x15c)),showSection('users'),loadUsers();}),logoutBtn[_0x3c4fc9(0x15a)](_0x3c4fc9(0x1a6),async()=>{const _0x458b88=_0x3c4fc9;await supabase[_0x458b88(0x163)][_0x458b88(0x19a)](),adminUser=null,dashboard['classList'][_0x458b88(0x16e)](_0x458b88(0x15c)),loginModal[_0x458b88(0x168)][_0x458b88(0x17d)](_0x458b88(0x15c)),document[_0x458b88(0x17b)](_0x458b88(0x181))['value']='',document[_0x458b88(0x17b)](_0x458b88(0x187))[_0x458b88(0x199)]='',loginError[_0x458b88(0x168)]['add'](_0x458b88(0x15c));}),navItems['forEach'](_0xaf82f6=>{const _0x9839e9=_0x3c4fc9;_0xaf82f6[_0x9839e9(0x15a)]('click',_0x203b9f=>{const _0x72f159=_0x9839e9;_0x203b9f[_0x72f159(0x17f)]();const _0x1d2b28=_0xaf82f6[_0x72f159(0x19d)]['section'];if(_0x1d2b28===_0x72f159(0x174)){logoutBtn[_0x72f159(0x1a6)]();return;}showSection(_0x1d2b28),updateActiveNav(_0xaf82f6);if(_0x1d2b28==='users')loadUsers();if(_0x1d2b28===_0x72f159(0x176))loadSearchHistory();if(_0x1d2b28==='watch-history')loadWatchHistory();if(_0x1d2b28==='bookmarks')loadBookmarks();});});function showSection(_0x5618fc){const _0x4b33e3=_0x3c4fc9;sections[_0x4b33e3(0x18f)](_0x4b96e8=>_0x4b96e8[_0x4b33e3(0x168)][_0x4b33e3(0x16e)](_0x4b33e3(0x15c))),document['getElementById'](_0x5618fc+'-section')[_0x4b33e3(0x168)][_0x4b33e3(0x17d)](_0x4b33e3(0x15c));}function updateActiveNav(_0x13356f){const _0x51b238=_0x3c4fc9;navItems[_0x51b238(0x18f)](_0x5dcba6=>_0x5dcba6[_0x51b238(0x168)][_0x51b238(0x17d)](_0x51b238(0x197))),_0x13356f[_0x51b238(0x168)][_0x51b238(0x16e)](_0x51b238(0x197));}function _0x5ab3(_0x27c354,_0x4aa385){const _0x176310=_0x1763();return _0x5ab3=function(_0x5ab3ab,_0x7c1d3b){_0x5ab3ab=_0x5ab3ab-0x157;let _0xf2c5fb=_0x176310[_0x5ab3ab];return _0xf2c5fb;},_0x5ab3(_0x27c354,_0x4aa385);}addUserForm['addEventListener'](_0x3c4fc9(0x19f),async _0x16561a=>{const _0xd531eb=_0x3c4fc9;_0x16561a[_0xd531eb(0x17f)]();const _0x3675dc=newUserEmail[_0xd531eb(0x199)]['trim']();if(!_0x3675dc)return;const {error:_0x318c32}=await supabase[_0xd531eb(0x16c)]('allowed_users')['insert']({'email':_0x3675dc});if(_0x318c32){addUserMsg['textContent']=_0xd531eb(0x19e),addUserMsg[_0xd531eb(0x168)][_0xd531eb(0x17d)](_0xd531eb(0x15c)),addUserMsg[_0xd531eb(0x198)][_0xd531eb(0x182)]='red',console[_0xd531eb(0x162)](_0x318c32);return;}addUserMsg[_0xd531eb(0x165)]=_0xd531eb(0x188)+_0x3675dc+_0xd531eb(0x173),addUserMsg['style'][_0xd531eb(0x182)]=_0xd531eb(0x194),addUserMsg[_0xd531eb(0x168)][_0xd531eb(0x17d)]('hidden'),newUserEmail[_0xd531eb(0x199)]='',loadUsers();});async function loadUsers(){const _0x567d31=_0x3c4fc9,{data:_0x225c06,error:_0x8e965a}=await supabase[_0x567d31(0x16c)](_0x567d31(0x160))[_0x567d31(0x192)](_0x567d31(0x15d));if(_0x8e965a)return;userList[_0x567d31(0x186)]='',_0x225c06['forEach'](_0x8ad575=>{const _0x53a72c=_0x567d31,_0x1d678a=document[_0x53a72c(0x191)]('li');_0x1d678a[_0x53a72c(0x165)]=_0x8ad575[_0x53a72c(0x15d)],userList[_0x53a72c(0x1a3)](_0x1d678a);});}function _0x1763(){const _0x104b59=['10fWqMiP','from','891989WLUtAM','add','media_type','7UHkHae','<strong>Episode:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Query:</strong>\x20','\x20added\x20successfully!','logout','</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','search-history','7337448WkBYYE',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20','supabase','__SUPABASE_URL__','getElementById','title','remove','1956969LxifPd','preventDefault','s\x20|\x20Watched:\x20','admin-email','color','\x20|\x20Added:\x20','<strong>Season:</strong>\x20','order','innerHTML','admin-password','User\x20','querySelectorAll','47379717gZSOTb','\x20|\x20Duration:\x20','4BygHVP','user_search_history','add-user-msg','forEach','login-error','createElement','select','5435190grVDQD','green','searched_at','login-form','active','style','value','signOut','dashboard','52504eSBdAF','dataset','Error\x20adding\x20user.','submit','user_watch_history','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta\x22>User\x20ID:\x20',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta\x22>User\x20ID:\x20','appendChild','.nav-item[data-section]','445diKoTz','click','.section','toLocaleString','add-user-form','addEventListener','8566720GgyiWQ','hidden','email','\x20|\x20Media\x20ID:\x20','episode','allowed_users','createClient','error','auth','__SUPABASE_ANON_KEY__','textContent','media_id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','classList','user_id','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Title:</strong>\x20'];_0x1763=function(){return _0x104b59;};return _0x1763();}async function loadSearchHistory(){const _0xd0fdef=_0x3c4fc9,{data:_0x1e525d,error:_0x29b686}=await supabase[_0xd0fdef(0x16c)](_0xd0fdef(0x18d))[_0xd0fdef(0x192)]('*')[_0xd0fdef(0x185)]('searched_at',{'ascending':![]});if(_0x29b686){console['error'](_0x29b686);return;}searchList[_0xd0fdef(0x186)]='',_0x1e525d['forEach'](_0x1c6f3d=>{const _0x45d68a=_0xd0fdef,_0x1cf142=document[_0x45d68a(0x191)]('li');_0x1cf142['innerHTML']=_0x45d68a(0x172)+_0x1c6f3d['query']+_0x45d68a(0x1a1)+_0x1c6f3d[_0x45d68a(0x169)]+'\x20|\x20Searched:\x20'+new Date(_0x1c6f3d[_0x45d68a(0x195)])[_0x45d68a(0x158)]()+_0x45d68a(0x175),searchList['appendChild'](_0x1cf142);});}async function loadWatchHistory(){const _0x5652a7=_0x3c4fc9,{data:_0x79a88b,error:_0x59e365}=await supabase[_0x5652a7(0x16c)](_0x5652a7(0x1a0))['select']('*')[_0x5652a7(0x185)]('watched_at',{'ascending':![]});if(_0x59e365){console[_0x5652a7(0x162)](_0x59e365);return;}watchList[_0x5652a7(0x186)]='',_0x79a88b['forEach'](_0x493f8e=>{const _0x3b392d=_0x5652a7,_0x2b2f13=document['createElement']('li');_0x2b2f13[_0x3b392d(0x186)]=_0x3b392d(0x16a)+_0x493f8e[_0x3b392d(0x17c)]+'\x20('+_0x493f8e['media_type']+_0x3b392d(0x178)+(_0x493f8e['season']?_0x3b392d(0x184)+_0x493f8e['season']:'')+_0x3b392d(0x167)+(_0x493f8e[_0x3b392d(0x15f)]?_0x3b392d(0x171)+_0x493f8e[_0x3b392d(0x15f)]:'')+_0x3b392d(0x1a1)+_0x493f8e[_0x3b392d(0x169)]+_0x3b392d(0x15e)+_0x493f8e[_0x3b392d(0x166)]+_0x3b392d(0x18b)+_0x493f8e['duration']+_0x3b392d(0x180)+new Date(_0x493f8e['watched_at'])[_0x3b392d(0x158)]()+_0x3b392d(0x175),watchList['appendChild'](_0x2b2f13);});}async function loadBookmarks(){const _0x24d63c=_0x3c4fc9,{data:_0xb17908,error:_0x849dfc}=await supabase['from']('user_bookmarks')[_0x24d63c(0x192)]('*')['order']('added_at',{'ascending':![]});if(_0x849dfc){console[_0x24d63c(0x162)](_0x849dfc);return;}bookmarkList[_0x24d63c(0x186)]='',_0xb17908['forEach'](_0x2c3c5b=>{const _0x5571f5=_0x24d63c,_0x10c7f7=document['createElement']('li');_0x10c7f7[_0x5571f5(0x186)]='\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<strong>Title:</strong>\x20'+_0x2c3c5b[_0x5571f5(0x17c)]+'\x20('+_0x2c3c5b[_0x5571f5(0x16f)]+_0x5571f5(0x1a2)+_0x2c3c5b[_0x5571f5(0x169)]+_0x5571f5(0x15e)+_0x2c3c5b[_0x5571f5(0x166)]+'\x20|\x20Poster:\x20'+(_0x2c3c5b['poster_path']||'N/A')+_0x5571f5(0x183)+new Date(_0x2c3c5b['added_at'])[_0x5571f5(0x158)]()+_0x5571f5(0x175),bookmarkList[_0x5571f5(0x1a3)](_0x10c7f7);});}